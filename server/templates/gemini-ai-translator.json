{
  "id": "a27e4739cc30",
  "name": "gemini-ai-translator",
  "description": "Real-time English/Russian translator powered by Gemini with speech input",
  "stack": "react-only",
  "complexity": "STANDARD",
  "files": [
    {
      "path": ".env.local",
      "content": "GEMINI_API_KEY=PLACEHOLDER_API_KEY\n",
      "role": "COMPONENT",
      "language": "text",
      "size": 35,
      "order": 0
    },
    {
      "path": ".gitignore",
      "content": "# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\nnode_modules\ndist\ndist-ssr\n*.local\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n",
      "role": "COMPONENT",
      "language": "text",
      "size": 253,
      "order": 1
    },
    {
      "path": "App.tsx",
      "content": "import React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { LanguageDirection } from './types';\nimport { translateText } from './services/geminiService';\nimport { SwapIcon, CopyIcon, CheckIcon, LoaderIcon, MicrophoneIcon } from './components/icons';\n\n// TypeScript declarations for the Web Speech API\ninterface SpeechRecognitionEvent extends Event {\n  results: SpeechRecognitionResultList;\n}\ninterface SpeechRecognitionErrorEvent extends Event {\n  error: string;\n}\ndeclare global {\n  interface Window {\n    SpeechRecognition: any;\n    webkitSpeechRecognition: any;\n  }\n}\n\nconst LanguageSelector: React.FC<{\n  direction: LanguageDirection;\n  onSwap: () => void;\n}> = ({ direction, onSwap }) => {\n  const [sourceLang, targetLang] = direction.split(' to ');\n  return (\n    <div className=\"flex items-center justify-center space-x-4 p-4 bg-brand-bg-light rounded-t-lg border-b border-gray-700\">\n      <span className=\"text-lg font-semibold text-brand-text w-1/3 text-center\">{sourceLang}</span>\n      <button\n        onClick={onSwap}\n        className=\"p-2 rounded-full bg-brand-primary text-white hover:bg-brand-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-bg-dark focus:ring-brand-secondary transition-transform duration-300 ease-in-out hover:rotate-180\"\n        aria-label=\"Swap languages\"\n      >\n        <SwapIcon className=\"w-6 h-6\" />\n      </button>\n      <span className=\"text-lg font-semibold text-brand-text w-1/3 text-center\">{targetLang}</span>\n    </div>\n  );\n};\n\nconst App: React.FC = () => {\n  const [inputText, setInputText] = useState<string>('');\n  const [translatedText, setTranslatedText] = useState<string>('');\n  const [direction, setDirection] = useState<LanguageDirection>(LanguageDirection.EnToRu);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [copied, setCopied] = useState<boolean>(false);\n  const [isListening, setIsListening] = useState<boolean>(false);\n  const [isSpeechSupported, setIsSpeechSupported] = useState<boolean>(false);\n  const recognitionRef = useRef<any>(null);\n\n  const sourceLang = direction.split(' to ')[0];\n  const targetLang = direction.split(' to ')[1];\n\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SpeechRecognition) {\n      setIsSpeechSupported(true);\n      const recognition = new SpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n\n      recognition.onresult = (event: SpeechRecognitionEvent) => {\n        const transcript = event.results[0][0].transcript;\n        setInputText(prev => (prev ? prev + ' ' + transcript : transcript).trim());\n      };\n\n      recognition.onerror = (event: SpeechRecognitionErrorEvent) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n      };\n\n      recognition.onend = () => {\n        setIsListening(false);\n      };\n      \n      recognitionRef.current = recognition;\n    }\n  }, []);\n\n  const handleSwapLanguages = useCallback(() => {\n    if (isListening) {\n      recognitionRef.current?.stop();\n    }\n    setDirection((prev) =>\n      prev === LanguageDirection.EnToRu\n        ? LanguageDirection.RuToEn\n        : LanguageDirection.EnToRu\n    );\n    setInputText(translatedText);\n    setTranslatedText(inputText);\n  }, [inputText, translatedText, isListening]);\n  \n  const handleToggleListening = () => {\n    if (!isSpeechSupported || !recognitionRef.current) return;\n\n    if (isListening) {\n      recognitionRef.current.stop();\n    } else {\n      recognitionRef.current.lang = direction === LanguageDirection.EnToRu ? 'en-US' : 'ru-RU';\n      try {\n        recognitionRef.current.start();\n        setIsListening(true);\n      } catch (error) {\n        console.error(\"Error starting speech recognition:\", error);\n        setIsListening(false);\n      }\n    }\n  };\n\n  const handleTranslate = useCallback(async () => {\n    if (!inputText.trim()) {\n      setTranslatedText('');\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    setTranslatedText('');\n    try {\n      const result = await translateText(inputText, direction);\n      setTranslatedText(result);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An unknown error occurred.');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [inputText, direction]);\n\n  useEffect(() => {\n    if(copied) {\n        const timer = setTimeout(() => setCopied(false), 2000);\n        return () => clearTimeout(timer);\n    }\n  }, [copied])\n\n  const handleCopy = () => {\n    navigator.clipboard.writeText(translatedText);\n    setCopied(true);\n  }\n\n  return (\n    <div className=\"min-h-screen bg-brand-bg-dark text-brand-text flex flex-col items-center justify-center p-4\">\n      <main className=\"w-full max-w-4xl mx-auto\">\n        <div className=\"bg-brand-bg-light shadow-2xl rounded-lg overflow-hidden\">\n          <header className=\"p-4 text-center border-b border-gray-700\">\n            <h1 className=\"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary\">\n              Gemini AI Translator\n            </h1>\n            <p className=\"text-brand-text-secondary mt-1\">\n              Translate between English and Russian with the power of AI\n            </p>\n          </header>\n          \n          <LanguageSelector direction={direction} onSwap={handleSwapLanguages} />\n\n          <div className=\"grid md:grid-cols-2 gap-px bg-gray-700\">\n            {/* Input Panel */}\n            <div className=\"bg-brand-bg-light p-4 flex flex-col relative\">\n                <textarea\n                  value={inputText}\n                  onChange={(e) => setInputText(e.target.value)}\n                  placeholder={isListening ? \"Listening...\" : `Enter ${sourceLang} text...`}\n                  className=\"w-full h-64 flex-grow p-3 bg-brand-bg-dark border border-gray-600 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-brand-primary transition-colors duration-200\"\n                  aria-label=\"Input text for translation\"\n                />\n                <button\n                  onClick={handleToggleListening}\n                  disabled={!isSpeechSupported}\n                  className={`absolute bottom-6 right-6 p-2 bg-gray-700 rounded-full text-brand-text-secondary hover:bg-gray-600 hover:text-white transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${isListening ? 'bg-red-500 text-white animate-pulse' : ''}`}\n                  aria-label={isListening ? 'Stop listening' : 'Start listening'}\n                  title={isSpeechSupported ? (isListening ? 'Stop listening' : 'Start listening') : 'Speech-to-text not supported by your browser'}\n                >\n                  <MicrophoneIcon className=\"w-5 h-5\"/>\n                </button>\n            </div>\n\n            {/* Output Panel */}\n            <div className=\"bg-brand-bg-light p-4 flex flex-col relative\">\n                <textarea\n                  readOnly\n                  value={isLoading ? 'Translating...' : (error || translatedText)}\n                  placeholder={`${targetLang} translation will appear here...`}\n                  className={`w-full h-64 flex-grow p-3 bg-brand-bg-dark border rounded-md resize-none focus:outline-none transition-colors duration-200 ${error ? 'text-red-400 border-red-500' : 'border-gray-600'}`}\n                  aria-label=\"Translated text\"\n                />\n               {translatedText && !isLoading && !error && (\n                 <button \n                  onClick={handleCopy}\n                  className=\"absolute bottom-6 right-6 p-2 bg-gray-700 rounded-full text-brand-text-secondary hover:bg-gray-600 hover:text-white transition\"\n                  aria-label=\"Copy translated text\"\n                 >\n                   {copied ? <CheckIcon className=\"w-5 h-5 text-green-400\" /> : <CopyIcon className=\"w-5 h-5\"/>}\n                 </button>\n               )}\n            </div>\n          </div>\n\n          <div className=\"p-4 border-t border-gray-700\">\n            <button\n              onClick={handleTranslate}\n              disabled={isLoading || !inputText.trim()}\n              className=\"w-full flex items-center justify-center py-3 px-4 bg-brand-primary text-white font-semibold rounded-lg hover:bg-brand-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-bg-dark focus:ring-brand-secondary disabled:bg-gray-500 disabled:cursor-not-allowed transition-all duration-300\"\n            >\n              {isLoading ? (\n                <>\n                  <LoaderIcon className=\"w-5 h-5 mr-2\" />\n                  Translating...\n                </>\n              ) : (\n                'Translate'\n              )}\n            </button>\n          </div>\n        </div>\n        <footer className=\"text-center mt-6 text-brand-text-secondary text-sm\">\n          <p>Powered by Google Gemini. UI designed for clarity and performance.</p>\n        </footer>\n      </main>\n    </div>\n  );\n};\n\nexport default App;",
      "role": "COMPONENT",
      "language": "typescript",
      "size": 9142,
      "order": 2
    },
    {
      "path": "README.md",
      "content": "<div align=\"center\">\n<img width=\"1200\" height=\"475\" alt=\"GHBanner\" src=\"https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6\" />\n</div>\n\n# Run and deploy your AI Studio app\n\nThis contains everything you need to run your app locally.\n\nView your app in AI Studio: https://ai.studio/apps/drive/1UqaWA0Ls-z_dsh30MXaJWJ_iBYgwx-J6\n\n## Run Locally\n\n**Prerequisites:**  Node.js\n\n\n1. Install dependencies:\n   `npm install`\n2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key\n3. Run the app:\n   `npm run dev`\n",
      "role": "COMPONENT",
      "language": "markdown",
      "size": 553,
      "order": 3
    },
    {
      "path": "index.html",
      "content": "\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Gemini AI Translator</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <script>\n      tailwind.config = {\n        theme: {\n          extend: {\n            colors: {\n              'brand-primary': '#4f46e5',\n              'brand-secondary': '#3b82f6',\n              'brand-bg-dark': '#111827',\n              'brand-bg-light': '#1f2937',\n              'brand-text': '#e5e7eb',\n              'brand-text-secondary': '#9ca3af',\n            },\n          },\n        },\n      }\n    </script>\n  <script type=\"importmap\">\n{\n  \"imports\": {\n    \"react/\": \"https://aistudiocdn.com/react@^19.2.0/\",\n    \"react\": \"https://aistudiocdn.com/react@^19.2.0\",\n    \"@google/genai\": \"https://aistudiocdn.com/@google/genai@^1.29.0\",\n    \"react-dom/\": \"https://aistudiocdn.com/react-dom@^19.2.0/\"\n  }\n}\n</script>\n<link rel=\"stylesheet\" href=\"/index.css\">\n</head>\n  <body class=\"bg-brand-bg-dark\">\n    <div id=\"root\"></div>\n    <script type=\"module\" src=\"/index.tsx\"></script>\n  </body>\n</html>\n",
      "role": "COMPONENT",
      "language": "html",
      "size": 1210,
      "order": 4
    },
    {
      "path": "index.tsx",
      "content": "\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\nif (!rootElement) {\n  throw new Error(\"Could not find root element to mount to\");\n}\n\nconst root = ReactDOM.createRoot(rootElement);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n",
      "role": "ENTRY",
      "language": "typescript",
      "size": 351,
      "order": 5
    },
    {
      "path": "metadata.json",
      "content": "{\n  \"name\": \"Gemini AI Translator\",\n  \"description\": \"A simple yet advanced Russian to English and English to Russian text translator powered by the Gemini API, featuring a sleek, responsive, and modern user interface.\",\n  \"requestFramePermissions\": [\n    \"microphone\"\n  ]\n}",
      "role": "COMPONENT",
      "language": "json",
      "size": 274,
      "order": 6
    },
    {
      "path": "package.json",
      "content": "{\n  \"name\": \"gemini-ai-translator\",\n  \"private\": true,\n  \"version\": \"0.0.0\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview\"\n  },\n  \"dependencies\": {\n    \"react\": \"^19.2.0\",\n    \"@google/genai\": \"^1.29.0\",\n    \"react-dom\": \"^19.2.0\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^22.14.0\",\n    \"@vitejs/plugin-react\": \"^5.0.0\",\n    \"typescript\": \"~5.8.2\",\n    \"vite\": \"^6.2.0\"\n  }\n}\n",
      "role": "CONFIG",
      "language": "json",
      "size": 448,
      "order": 7
    },
    {
      "path": "tsconfig.json",
      "content": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2022\",\n    \"experimentalDecorators\": true,\n    \"useDefineForClassFields\": false,\n    \"module\": \"ESNext\",\n    \"lib\": [\n      \"ES2022\",\n      \"DOM\",\n      \"DOM.Iterable\"\n    ],\n    \"skipLibCheck\": true,\n    \"types\": [\n      \"node\"\n    ],\n    \"moduleResolution\": \"bundler\",\n    \"isolatedModules\": true,\n    \"moduleDetection\": \"force\",\n    \"allowJs\": true,\n    \"jsx\": \"react-jsx\",\n    \"paths\": {\n      \"@/*\": [\n        \"./*\"\n      ]\n    },\n    \"allowImportingTsExtensions\": true,\n    \"noEmit\": true\n  }\n}",
      "role": "CONFIG",
      "language": "json",
      "size": 542,
      "order": 8
    },
    {
      "path": "types.ts",
      "content": "\nexport enum LanguageDirection {\n  EnToRu = 'English to Russian',\n  RuToEn = 'Russian to English',\n}\n",
      "role": "TYPE",
      "language": "typescript",
      "size": 101,
      "order": 9
    },
    {
      "path": "vite.config.ts",
      "content": "import path from 'path';\nimport { defineConfig, loadEnv } from 'vite';\nimport react from '@vitejs/plugin-react';\n\nexport default defineConfig(({ mode }) => {\n    const env = loadEnv(mode, '.', '');\n    return {\n      server: {\n        port: 3000,\n        host: '0.0.0.0',\n      },\n      plugins: [react()],\n      define: {\n        'process.env.API_KEY': JSON.stringify(env.GEMINI_API_KEY),\n        'process.env.GEMINI_API_KEY': JSON.stringify(env.GEMINI_API_KEY)\n      },\n      resolve: {\n        alias: {\n          '@': path.resolve(__dirname, '.'),\n        }\n      }\n    };\n});\n",
      "role": "CONFIG",
      "language": "typescript",
      "size": 580,
      "order": 10
    },
    {
      "path": "components/icons.tsx",
      "content": "import React from 'react';\n\nexport const SwapIcon: React.FC<{ className?: string }> = ({ className = 'w-6 h-6' }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5\" />\n  </svg>\n);\n\nexport const CopyIcon: React.FC<{ className?: string }> = ({ className = 'w-5 h-5' }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75\" />\n  </svg>\n);\n\nexport const CheckIcon: React.FC<{ className?: string }> = ({ className = 'w-5 h-5' }) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\n    </svg>\n);\n\nexport const LoaderIcon: React.FC<{ className?: string }> = ({ className = 'w-6 h-6' }) => (\n  <svg className={`animate-spin ${className}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n  </svg>\n);\n\nexport const MicrophoneIcon: React.FC<{ className?: string }> = ({ className = 'w-5 h-5' }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\" />\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 10v2a7 7 0 0 1-14 0v-2\" />\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 19v3\" />\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8 22h8\" />\n  </svg>\n);",
      "role": "COMPONENT",
      "language": "typescript",
      "size": 2599,
      "order": 11
    },
    {
      "path": "services/geminiService.ts",
      "content": "\nimport { GoogleGenAI } from \"@google/genai\";\nimport { LanguageDirection } from '../types';\n\nif (!process.env.API_KEY) {\n  throw new Error(\"API_KEY environment variable is not set\");\n}\n\nconst ai = new GoogleGenAI({ apiKey: process.env.API_KEY });\n\nexport const translateText = async (\n  text: string,\n  direction: LanguageDirection\n): Promise<string> => {\n  if (!text.trim()) {\n    return \"\";\n  }\n\n  const prompt = `Translate the following text from ${direction.split(' to ')[0]} to ${direction.split(' to ')[1]}. Provide only the translated text, without any additional explanations, introductions, or formatting.\\n\\nText: \"${text}\"\\n\\nTranslation:`;\n\n  try {\n    const response = await ai.models.generateContent({\n      model: 'gemini-2.5-flash',\n      contents: prompt,\n      config: {\n        temperature: 0.3,\n        topP: 0.9,\n      }\n    });\n\n    return response.text.trim();\n  } catch (error) {\n    console.error(\"Error translating text with Gemini API:\", error);\n    throw new Error(\"Failed to translate text. Please check your connection or API key.\");\n  }\n};\n",
      "role": "SERVICE",
      "language": "typescript",
      "size": 1071,
      "order": 12
    }
  ],
  "frontend_deps": {
    "react": "^19.2.0",
    "@google/genai": "^1.29.0",
    "react-dom": "^19.2.0"
  },
  "backend_deps": {},
  "created_at": "1772068059",
  "version": 1,
  "category": "ai-tool"
}